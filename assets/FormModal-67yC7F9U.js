import{_ as b,r as _,u as f,b as u,c as m,d as t,t as P,w as y,k as r,v as n,F as v,e as U,f as S,n as V,s as k,p as q,l as E}from"./index-UNakMJ-m.js";const M={name:"FormModal",props:{product:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:o}){const a=_(!0),e=f(),c=_({...l.product});return{isModalOpen:a,editedProduct:c,handleSubmit:async()=>{try{const s=l.isEditing?`https://dummyjson.com/products/${c.value.id}`:"https://dummyjson.com/products/add",p=l.isEditing?"PUT":"POST",h=l.isEditing?"update":"create";await fetch(s,{method:p,headers:{"Content-Type":"application/json"},body:JSON.stringify(c.value)}),k.commit(h,c.value),o("close"),e.push("/")}catch(s){console.error("Error updating product:",s)}},closeModal:()=>{o("close")}}}},i=l=>(q("data-v-619991c3"),l=l(),E(),l),x={class:"modal-content"},T={class:"modal__title"},C={class:"modal__main-part"},R={class:"modal__firt-part"},w={class:"form-group"},B=i(()=>t("label",{for:"title"},"Title:",-1)),D={class:"form-group"},I=i(()=>t("label",{for:"description"},"Description:",-1)),F=i(()=>t("label",{for:"price"},"Price:",-1)),L={class:"form-group"},j=i(()=>t("label",{for:"discountPercentage"},"Discount Percentage:",-1)),O={class:"modal__second-part"},N={class:"form-group"},z=i(()=>t("label",{for:"rating"},"Rating:",-1)),A={class:"form-group"},J=i(()=>t("label",{for:"stock"},"Stock:",-1)),G={class:"form-group"},H=i(()=>t("label",{for:"brand"},"Brand:",-1)),K={class:"form-group"},Q=i(()=>t("label",{for:"category"},"Category:",-1)),W={class:"form-group"},X=i(()=>t("label",{for:"thumbnail"},"Thumbnail URL:",-1)),Y={class:"form-group"},Z=i(()=>t("label",{for:"image-url"},"Image URL:",-1)),$=["onUpdate:modelValue"],tt=i(()=>t("button",{type:"submit"},"Submit",-1));function et(l,o,a,e,c,g){return u(),m("div",{class:V(["modal",{"update--position":a.isEditing}])},[t("div",x,[t("h2",T,P(a.isEditing?"Update product":"Add new product"),1),t("form",{onSubmit:o[9]||(o[9]=y((...d)=>e.handleSubmit&&e.handleSubmit(...d),["prevent"]))},[t("div",C,[t("div",R,[t("div",w,[B,r(t("input",{id:"title",type:"text","onUpdate:modelValue":o[0]||(o[0]=d=>e.editedProduct.title=d),placeholder:"Title",minlength:"3",required:""},null,512),[[n,e.editedProduct.title]])]),t("div",D,[I,r(t("textarea",{id:"description","onUpdate:modelValue":o[1]||(o[1]=d=>e.editedProduct.description=d),placeholder:"Description",minlength:"10",required:""},null,512),[[n,e.editedProduct.description]])]),F,r(t("input",{id:"price",type:"number","onUpdate:modelValue":o[2]||(o[2]=d=>e.editedProduct.price=d),placeholder:"Price",required:""},null,512),[[n,e.editedProduct.price]]),t("div",L,[j,r(t("input",{id:"discountPercentage",type:"number","onUpdate:modelValue":o[3]||(o[3]=d=>e.editedProduct.discountPercentage=d),step:"any",placeholder:"Discount Percentage",required:""},null,512),[[n,e.editedProduct.discountPercentage]])])]),t("div",O,[t("div",N,[z,r(t("input",{id:"rating",type:"number","onUpdate:modelValue":o[4]||(o[4]=d=>e.editedProduct.rating=d),placeholder:"Rating",step:"any",required:""},null,512),[[n,e.editedProduct.rating]])]),t("div",A,[J,r(t("input",{id:"stock",type:"number","onUpdate:modelValue":o[5]||(o[5]=d=>e.editedProduct.stock=d),placeholder:"Stock",required:""},null,512),[[n,e.editedProduct.stock]])]),t("div",G,[H,r(t("input",{id:"brand",type:"text","onUpdate:modelValue":o[6]||(o[6]=d=>e.editedProduct.brand=d),placeholder:"Brand",required:""},null,512),[[n,e.editedProduct.brand]])]),t("div",K,[Q,r(t("input",{id:"category",type:"text","onUpdate:modelValue":o[7]||(o[7]=d=>e.editedProduct.category=d),placeholder:"Category",required:""},null,512),[[n,e.editedProduct.category]])])])]),t("div",W,[X,r(t("input",{id:"thumbnail",type:"text","onUpdate:modelValue":o[8]||(o[8]=d=>e.editedProduct.thumbnail=d),placeholder:"Thumbnail URL",required:""},null,512),[[n,e.editedProduct.thumbnail]])]),t("div",Y,[(u(!0),m(v,null,U(e.editedProduct.images,(d,s)=>(u(),m("div",{key:s},[Z,r(t("input",{id:"image-url",type:"text","onUpdate:modelValue":p=>e.editedProduct.images[s]=p,placeholder:"Image URL",required:""},null,8,$),[[n,e.editedProduct.images[s]]])]))),128))]),tt],32),a.isEditing?(u(),m("button",{key:0,onClick:o[10]||(o[10]=(...d)=>e.closeModal&&e.closeModal(...d)),class:"close-button"},"Close")):S("",!0)])],2)}const dt=b(M,[["render",et],["__scopeId","data-v-619991c3"]]);export{dt as F};
